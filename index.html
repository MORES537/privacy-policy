# Generate professional, accessible HTML pages for MindMend's Privacy Policy and Terms of Use
from textwrap import dedent
from datetime import datetime

last_updated_str = "January 2025"
version_str = "2.0"
brand = "MindMend"
accent = "#4A90E2"

base_css = f"""
:root {{
  --bg: #ffffff;
  --fg: #0f172a;
  --muted: #6b7280;
  --card: #ffffff;
  --border: #e5e7eb;
  --accent: {accent};
  --accent-contrast: #ffffff;
}}
@media (prefers-color-scheme: dark) {{
  :root {{
    --bg: #0b1220;
    --fg: #e5e7eb;
    --muted: #9ca3af;
    --card: #0f172a;
    --border: #1f2937;
    --accent: {accent};
    --accent-contrast: #ffffff;
  }}
}}
* {{ box-sizing: border-box; }}
html, body {{ margin: 0; padding: 0; }}
body {{
  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--bg);
  color: var(--fg);
  line-height: 1.65;
}}
.header {{
  background: radial-gradient(1200px 400px at 10% -10%, rgba(74,144,226,0.25), transparent),
              radial-gradient(1200px 400px at 90% -10%, rgba(74,144,226,0.2), transparent),
              linear-gradient(135deg, rgba(74,144,226,0.10), transparent 60%);
  border-bottom: 1px solid var(--border);
}}
.wrap {{ max-width: 920px; margin: 0 auto; padding: 24px; }}
.brand {{ display:flex; align-items:center; gap:12px; }}
.badges {{ display:flex; flex-wrap: wrap; gap:8px; margin-top: 8px;}}
.badge {{
  background: var(--card);
  border: 1px solid var(--border);
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  color: var(--muted);
}}
h1 {{ margin: 12px 0 8px 0; font-size: 32px; letter-spacing: -0.02em; }}
h2 {{ margin-top: 28px; font-size: 22px; letter-spacing: -0.01em; }}
h3 {{ margin-top: 18px; font-size: 18px; }}
p, li {{ font-size: 16px; }}
.card {{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 18px;
}}
.meta {{ color: var(--muted); font-size: 14px; }}
a {{ color: var(--accent); text-decoration: none; }}
a:hover {{ text-decoration: underline; }}
hr {{ border: none; border-top: 1px solid var(--border); margin: 28px 0; }}
.footer {{ color: var(--muted); font-size: 14px; margin-top: 32px; }}
.toc {{ margin: 16px 0; padding-left: 18px; }}
.toc a {{ font-size: 15px; }}
.button {{
  display:inline-block; padding: 10px 14px; border-radius: 10px;
  background: var(--accent); color: var(--accent-contrast);
  border: 1px solid rgba(0,0,0,0.05);
}}
blockquote {{
  margin: 0; padding: 12px 16px; border-left: 3px solid var(--accent);
  background: rgba(74,144,226,0.08); border-radius: 8px;
}}
"""

privacy_body = f"""
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{brand} — Privacy Policy</title>
  <meta name="color-scheme" content="light dark">
  <style>{base_css}</style>
</head>
<body>
  <header class="header">
    <div class="wrap">
      <div class="brand">
        <img alt="{brand} icon" src="https://raw.githubusercontent.com/MORES537/mindmend/main/assets/icon.png" width="28" height="28" onerror="this.style.display='none'">
        <div>
          <h1 style="margin:0">{brand} — Privacy Policy</h1>
          <div class="meta">Version {version_str} • Last updated {last_updated_str}</div>
          <div class="badges">
            <div class="badge">No accounts</div>
            <div class="badge">No ads</div>
            <div class="badge">No tracking</div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <p><strong>{brand}</strong> is a privacy‑focused mental wellness app. This policy explains what data is processed and why.</p>
      <h2 id="summary">Summary</h2>
      <ul>
        <li>Your journal, history, and preferences are stored <strong>locally</strong> on your device.</li>
        <li>When you request an AI response, your input is <strong>sent to OpenAI’s API only to provide that response</strong>. We do not run our own servers.</li>
        <li>No analytics SDKs, cookies, or third‑party advertising.</li>
      </ul>

      <h2 id="data-we-process">Data We Process</h2>
      <h3>On Your Device (Local Only)</h3>
      <ul>
        <li>Thought‑reframing history</li>
        <li>Emotional journal entries and mood tags</li>
        <li>Language and app preferences</li>
      </ul>
      <p>You can clear local data anytime in the app or by uninstalling the app.</p>

      <h3>AI Processing with OpenAI</h3>
      <p>Text you submit (and, if enabled, voice/audio for transcription) is transmitted to OpenAI solely to generate the requested response. <strong>OpenAI does not use API data to train its models by default.</strong> Per OpenAI’s policy, API data <strong>may be retained for up to 30 days</strong> for abuse monitoring and then deleted, unless legally required to retain it.</p>
      <p>Learn more: <a href="https://platform.openai.com/docs/guides/your-data">OpenAI – Your data</a> · <a href="https://openai.com/policies/privacy-policy">OpenAI Privacy Policy</a></p>

      <h2 id="permissions">Permissions We Request (Purpose)</h2>
      <ul>
        <li><strong>Microphone / Speech Recognition</strong> — optional voice input for reframing and exercises.</li>
        <li><strong>Photo Library (read/add)</strong> — only if you choose to attach or export images related to your journal. Nothing is uploaded by us.</li>
        <li><strong>Camera</strong> — only if you decide to take a photo for your journal.</li>
      </ul>

      <h2 id="children">Children’s Privacy</h2>
      <p>{brand} is not directed to children under 13.</p>

      <h2 id="your-choices">Your Choices</h2>
      <ul>
        <li>Clear your local history and journal entries at any time in the app.</li>
        <li>Uninstall the app to remove all locally stored data.</li>
      </ul>

      <h2 id="security">Security</h2>
      <p>Local data stays on your device. Data sent to OpenAI travels over HTTPS. We do not sell personal data or use it for advertising.</p>

      <h2 id="contact">Contact</h2>
      <p>Questions? <a href="mailto:pvyg19@yahoo.com">pvyg19@yahoo.com</a> · GitHub: <a href="https://github.com/MORES537/mindmend">github.com/MORES537/mindmend</a></p>

      <hr/>
      <p class="meta">Also see our <a href="./terms-of-use.html">Terms of Use</a>.</p>
    </div>

    <div class="footer">
      © {datetime.now().year} {brand}. All rights reserved.
    </div>
  </main>
</body>
</html>
"""

terms_body = f"""
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{brand} — Terms of Use</title>
  <meta name="color-scheme" content="light dark">
  <style>{base_css}</style>
</head>
<body>
  <header class="header">
    <div class="wrap">
      <div class="brand">
        <img alt="{brand} icon" src="https://raw.githubusercontent.com/MORES537/mindmend/main/assets/icon.png" width="28" height="28" onerror="this.style.display='none'">
        <div>
          <h1 style="margin:0">{brand} — Terms of Use</h1>
          <div class="meta">Version {version_str} • Last updated {last_updated_str}</div>
          <div class="badges">
            <div class="badge">One‑time purchase</div>
            <div class="badge">No subscriptions</div>
            <div class="badge">No in‑app purchases</div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <h2 id="about">1. About {brand}</h2>
      <p>{brand} is a paid app (one‑time purchase) that provides AI‑assisted thought reframing, guided audios, and a private mood journal. There are no subscriptions or in‑app purchases.</p>

      <h2 id="license">2. License</h2>
      <p>Upon purchase, you are granted a personal, non‑transferable, non‑exclusive license to install and use the app on Apple devices linked to your Apple ID, subject to Apple’s terms and these Terms.</p>

      <h2 id="appropriate-use">3. Appropriate Use</h2>
      <ul>
        <li>Use the app for personal wellness.</li>
        <li>Do not reverse‑engineer, copy, modify, or redistribute the app.</li>
        <li>Do not misuse the app to generate unlawful or harmful content.</li>
      </ul>

      <h2 id="medical-disclaimer">4. Medical Disclaimer</h2>
      <blockquote><strong>{brand} is not a medical device and does not provide professional health advice.</strong> It is a self‑help tool and should not be used as a substitute for diagnosis, treatment, or therapy. If you experience severe distress or crisis, seek professional help immediately.</blockquote>

      <h2 id="privacy">5. Privacy</h2>
      <p>Local data stays on your device. When you request an AI response, your submitted content is sent to OpenAI’s API solely to provide that response. See our <a href="./privacy-policy.html">Privacy Policy</a> for details.</p>

      <h2 id="open-source">6. Open Source</h2>
      <p>{brand}’s source code is available on GitHub for transparency and contributions: <a href="https://github.com/MORES537/mindmend">github.com/MORES537/mindmend</a>.</p>

      <h2 id="warranty-liability">7. Warranty & Liability</h2>
      <p>The app is provided “as is” without warranties of any kind. To the maximum extent permitted by law, the developer is not liable for indirect, incidental, special, consequential, or exemplary damages.</p>

      <h2 id="changes">8. Availability & Changes</h2>
      <p>Features may change or be discontinued; updates may be required to continue using the app.</p>

      <h2 id="law">9. Governing Law</h2>
      <p>These Terms are governed by the laws of the Netherlands, with courts in the Netherlands having exclusive jurisdiction.</p>

      <h2 id="contact">10. Contact</h2>
      <p><a class="button" href="mailto:pvyg19@yahoo.com">Email Support</a></p>

      <hr/>
      <p class="meta">Also see our <a href="./privacy-policy.html">Privacy Policy</a>.</p>
    </div>

    <div class="footer">
      © {datetime.now().year} {brand}. All rights reserved.
    </div>
  </main>
</body>
</html>
"""

privacy_path = "/mnt/data/privacy-policy.html"
terms_path = "/mnt/data/terms-of-use.html"

with open(privacy_path, "w", encoding="utf-8") as f:
    f.write(dedent(privacy_body).strip())

with open(terms_path, "w", encoding="utf-8") as f:
    f.write(dedent(terms_body).strip())

privacy_path, terms_path

